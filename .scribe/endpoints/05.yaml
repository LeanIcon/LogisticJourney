name: 'Form Submission'
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: 'api/v1/pages/{identifier}/submit'
    metadata:
      custom: []
      groupName: 'Form Submission'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: |-
        Submit a form with Google reCAPTCHA verification.

        This endpoint allows the frontend to submit any form (contact, demo request, etc.) with dynamic fields and Google reCAPTCHA protection. The form is identified by its slug (e.g., `contact-us`).

        **Frontend Integration Notes:**
        - Obtain a reCAPTCHA token from the frontend using your site key (`RECAPTCHA_SITE_KEY` from .env).
        - Send the token in the `captcha` field of the request body.
        - All required fields for the form will be validated dynamically based on backend configuration.
        - On success, a confirmation email is sent to the user (if email is provided and valid).
        - On failure, you will receive detailed validation errors or a captcha error.

        **Request:**
        - Method: POST
        - URL: `/api/forms/{identifier}/submit`
        - Content-Type: `application/json`
      description: ''
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      identifier:
        custom: []
        name: identifier
        description: 'The form slug i'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      identifier: architecto
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      name:
        custom: []
        name: name
        description: "The submitter's full name."
        required: true
        example: 'John Doe'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      email:
        custom: []
        name: email
        description: 'Valid email address for contact and confirmation.'
        required: true
        example: john@example.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      phone:
        custom: []
        name: phone
        description: 'Optional phone number.'
        required: false
        example: '+1 (555) 123-4567'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      subject:
        custom: []
        name: subject
        description: 'Optional subject or category.'
        required: false
        example: general
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      message:
        custom: []
        name: message
        description: 'The message content.'
        required: true
        example: "I'd like more information about your services"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      captcha:
        custom: []
        name: captcha
        description: 'Google reCAPTCHA token (v2 or v3) from frontend widget.'
        required: true
        example: 03AGdBq25hcBhpXPC...
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      name: 'John Doe'
      email: john@example.com
      phone: '+1 (555) 123-4567'
      subject: general
      message: "I'd like more information about your services"
      captcha: 03AGdBq25hcBhpXPC...
    fileParameters: []
    responses:
      -
        custom: []
        status: 201
        content: |-
          {
            "status": "ok",
            "id": 123,
            "message": "Submission received"
          }
        headers: []
        description: success
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "Form not found"
          }
        headers: []
        description: form_not_found
      -
        custom: []
        status: 422
        content: |-
          {
            "message": "Validation failed",
            "errors": {
              "email": ["The email field is required"],
              "name": ["The name field is required"],
              "message": ["The message field is required"]
            }dentifier. Example: contact-us
          }
        headers: []
        description: validation_error
      -
        custom: []
        status: 422
        content: |-
          {
            "status": "error",
            "message": "reCAPTCHA verification failed."
          }
        headers: []
        description: captcha_failed
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 3|aOMMYFMGyUS9ISz1941uyCwUndbOKiO2GqKKoZnEcb107a90'
    controller: null
    method: null
    route: null
